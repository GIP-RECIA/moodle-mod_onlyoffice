define(["jquery"],function(e){var n=function(n){require(["core/str"],function(o){var t=o.get_string(n,"onlyoffice");e.when(t).done(function(n){e("#onlyoffice-editor").text=n,e("#onlyoffice-editor").text(n).addClass("error")})})},o=function(){require(["core/str"],function(n){var o,t=n.get_string("editorenterfullscreen","onlyoffice"),i=n.get_string("editorexitfullscreen","onlyoffice"),c=document.getElementsByTagName("body")[0],f=e("nav .nav-link.btn")[0],r=e(".onlyoffice-container")[0];e.when(t).done(function(e){t=e;var n=document.createElement("button"),i=document.createElement("i");i.className="icon fa fa-expand fa-fw",n.appendChild(i),n.className="onlyoffice-editor-fs-button",n.id="onlyoffice-enter-fs-button",n.innerHTML+=t,n.onclick=function(){c.classList.add("oo-fullscreen"),"true"===(o=f.getAttribute("aria-expanded"))&&f.click()},r.before(n)}),e.when(i).done(function(e){i=e;var n=document.createElement("button"),t=document.createElement("i");t.className="icon fa fa-compress fa-fw",n.appendChild(t),n.innerHTML+=i,n.className="onlyoffice-editor-fs-button",n.id="onlyoffice-exit-fs-button",n.onclick=function(){"true"===o&&"true"!==f.getAttribute("aria-expanded")&&f.click(),c.classList.remove("oo-fullscreen")},r.before(n)})})};return{init:function(t,i){if("undefined"==typeof DocsAPI){n("docserverunreachable");return}o();var c=M.cfg.wwwroot+"/mod/onlyoffice/dsconfig.php";e.getJSON(c,{courseid:t,cmid:i}).done(function(e){new DocsAPI.DocEditor("onlyoffice-editor",e)})}}});